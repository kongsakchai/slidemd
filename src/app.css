@import 'tailwindcss';
@source inline("opacity-0");
@source inline("opacity-100");
/* @source-path */

:root {
	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;

	/* Font */
	--font-primary: 'Sarabun', system-ui, -apple-system, sans-serif;
	--font-mono: 'Geist Mono', ui-monospace, 'Menlo', 'Monaco', 'Courier New', monospace;

	/* Color Element */
	--primary: white;
	--primary-foreground: #3c3c43;
	--primary-foreground-2: color-mix(in srgb, #3c3c43 75%, white);
	--primary-hover: color-mix(in srgb, #3c3c43 15%, white);
	--header: #f06292;
	--masking: #f06292;
	--link: #f06292;
	--action: #f06292;
	--line: #e2e2e3;
	--table-primary: white;
	--table-primary-foreground: #3c3c43;
	--table-secondary: #f6f8fa;
	--table-primary-foreground-2: color-mix(in srgb, #3c3c43 75%, white);

	--code: #f6f8fa;
	--code-foreground: #f06292;
	--code-highlight: color-mix(in srgb, #3c3c43 10%, white);
	--code-error: color-mix(in srgb, #d20f39 15%, white);
	--code-error-foreground: #d20f39;
	--code-warning: color-mix(in srgb, #df8e1d 15%, white);
	--code-warning-foreground: #df8e1d;
	--code-add: color-mix(in srgb, #40a02b 15%, white);
	--code-add-foreground: #40a02b;
	--code-del: color-mix(in srgb, #d20f39 15%, white);
	--code-del-foreground: #d20f39;
}

@theme static {
	--font-primary: var(--font-primary);
	--font-mono: var(--font-mono);

	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-primary-foreground-2: var(--primary-foreground-2);
	--color-primary-hover: var(--primary-hover);
	--color-header: var(--header);
	--color-masking: var(--masking);

	--color-link: var(--link);
	--color-action: var(--action);
	--color-line: var(--line);

	--color-table-primary: var(--table-primary);
	--color-table-primary-foreground: var(--table-primary-foreground);
	--color-table-secondary: var(--table-secondary);
	--color-table-primary-foreground-2: var(--table-primary-foreground-2);

	--color-code: var(--code);
	--color-code-foreground: var(--code-foreground);
	--color-code-highlight: var(--code-highlight);
	--color-code-error: var(--code-error);
	--color-code-error-foreground: var(--code-error-foreground);
	--color-code-warning: var(--code-warning);
	--color-code-warning-foreground: var(--code-warning-foreground);
	--color-code-add: var(--code-add);
	--color-code-add-foreground: var(--code-add-foreground);
	--color-code-del: var(--code-del);
	--color-code-del-foreground: var(--code-del-foreground);
}

/* Body */

body {
	background: var(--primary);
	color: var(--primary-foreground);
	font-family: var(--font-primary);
	line-height: 1.5;
	font-weight: 400;

	place-content: center;
	height: 100vh;
	margin: 0;
	padding: 0;
}

/* Slide */

section.slide {
	color: var(--primary-foreground);
	background-color: var(--primary);

	width: 100%;
	height: 100%;
	position: relative;
}

section.slide:not(.split) {
	padding: 2.5rem;
	overflow: auto;
	place-content: center;
}

section.slide.split {
	display: grid;
	grid-template: var(--split-row, 1fr) / var(--split-col, 1fr);

	&.hidden {
		display: none;
	}
}

section.slide.split > div.split-contents {
	padding: 2.5rem;
	overflow: auto;
	place-content: center;
	position: relative;
}

/* Background */

.background-container {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: -999;
	display: grid;
	grid-template-columns: var(--bg-columns);
	grid-template-rows: var(--bg-rows);
}

@layer base {
	/* Header */

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		color: var(--header);
		font-weight: 700;
		line-height: 1.25;
		margin: 24px 0 16px 0;
	}

	h1 {
		font-size: 2em; /* 32px */
	}

	h2 {
		font-size: 1.75em; /* 28px */
	}

	h3 {
		font-size: 1.5em; /* 24px */
	}

	h4 {
		font-size: 1.25em; /* 20px */
	}

	h5 {
		font-size: 1.125em; /* 18px */
	}

	h6 {
		font-size: 1em; /* 16px */
	}

	/* Text */

	p {
		margin: 16px 0;
	}

	strong {
		font-weight: 700;
	}

	em {
		font-style: oblique;
	}

	del {
		text-decoration: 2px wavy line-through var(--masking);
	}

	a {
		color: var(--link);
	}

	/* Input */

	input,
	select {
		font-family: var(--font-primary);
		background-color: var(--primary);
		color: var(--primary-foreground);
		border: 1px solid var(--line);
		border-radius: 8px;
		font-size: 14px;
		padding: 4px;
		outline: none;
	}

	input[type='range'] {
		-webkit-appearance: none;
		appearance: none;
		height: 8px;
		padding: 0px;

		&::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 16px;
			height: 16px;
			background: var(--action);
			border-radius: 50%;
			cursor: pointer;
		}

		&::-moz-range-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 16px;
			height: 16px;
			background: var(--action);
			border-radius: 50%;
			cursor: pointer;
		}
	}

	/* Image */

	img {
		border-radius: 8px;
	}

	/* List */

	ul,
	ol {
		padding-left: 20px;
		margin: 16px 0;
	}

	ol {
		list-style-type: decimal;
	}

	ul {
		list-style-type: disc;
	}

	ul ol,
	ul ul,
	ol ul,
	ol ol {
		margin: 0;
	}

	/* Blockquotes */

	blockquote {
		padding-left: 16px;
		margin: 16px 0;
		border-left: 2px solid var(--line);
		color: var(--primary-foreground-2);
	}

	blockquote > :first-child {
		margin-top: 0;
	}

	blockquote > :last-child {
		margin-bottom: 0;
	}

	/* Table */

	table {
		text-indent: 0;
		display: block;
		border-collapse: collapse;
		overflow-y: auto;
		margin: 16px 0;
	}

	th,
	td {
		font-size: 0.875em;
		padding: 8px 16px;
		border: 1px solid var(--line);
	}

	th {
		text-align: left;
		color: var(--table-primary-foreground-2);
		background-color: var(--table-secondary);
	}

	tr {
		background-color: var(--table-primary);
		color: var(--table-primary-foreground);
	}

	tr:nth-child(2n) {
		background-color: var(--table-secondary);
	}

	/* iframe */

	iframe {
		border: 1px solid var(--line);
		border-radius: 8px;
		width: 100%;
		height: 100%;
	}

	/* Code */

	code {
		font-family: var(--font-mono);
		font-size: 0.875em;
		line-height: 1.75;
	}

	:not(pre) > code {
		border-radius: 4px;
		padding: 3px 6px;
		color: var(--code-foreground);
		background-color: var(--code);
	}
}

[class*='language-'] {
	position: relative;
	border-radius: 8px;
	margin: 16px 0;
	background-color: var(--code);
}

[class*='language-'] pre {
	position: relative;
	padding: 20px 0px;
	overflow: auto;
}

[class*='language-'] code {
	display: block;
	width: fit-content;
	padding: 0px 24px;
	min-width: 100%;

	.diff,
	.highlighted {
		display: inline-block;
		width: calc(100% + 48px);
		margin-left: -24px;
		padding-left: 24px;
	}

	.highlighted {
		background-color: var(--code-highlight);
	}

	.highlighted.error {
		background-color: var(--code-error);
		border-left: 2px solid var(--code-error-foreground);
		padding-left: 22px;
	}

	.highlighted.warning {
		background-color: var(--code-warning);
		border-left: 2px solid var(--code-warning-foreground);
		padding-left: 22px;
	}

	.diff::before {
		position: absolute;
		left: 10px;
	}

	.diff.remove {
		background-color: var(--code-del);
	}

	.diff.remove::before {
		content: '-';
		color: var(--code-del-foreground);
	}

	.diff.add {
		background-color: var(--code-add);
	}

	.diff.add::before {
		content: '+';
		color: var(--code-add-foreground);
	}
}

[class*='language-'] span {
	color: var(--shiki-light);
}

[class*='language-'] .has-focused .line:not(.focused) {
	filter: blur(1.5px);
	transition: filter 0.3s;
}

[class*='language-'] .has-focused:hover .line:not(.focused) {
	filter: none;
}

[class*='language-'] > span.lang {
	position: absolute;
	top: 5px;
	right: 10px;
	user-select: none;

	color: var(--primary-foreground-2);
	font-family: var(--font-mono);
	font-size: 12px;

	opacity: 0.5;
	transition: all 0.2s ease-in-out;
}

[class*='language-'] > button.copy {
	position: absolute;
	top: 12px;
	right: 12px;
	z-index: 1;

	width: 32px;
	height: 32px;

	/* background: url('./lib/icons/copy-icon.svg') no-repeat center; */
	background-color: var(--primary);
	border: 1px solid var(--line);
	border-radius: 4px;

	opacity: 0;
	transition: all 0.2s ease-in-out;

	&::after {
		content: '';
		display: block;
		width: 100%;
		height: 100%;
		background-color: var(--primary-foreground-2);
		mask: url('./lib/icons/copy-icon.svg') no-repeat center;
	}

	&::before {
		content: 'Copied!';
		position: absolute;
		top: 50%;
		left: 0%;
		transform: translate(-110%, -50%);

		font-family: var(--font-mono);
		font-size: 12px;
		color: var(--primary-foreground-2);

		opacity: 0;
		transition: all 0.2s ease-in-out;
	}

	&.copied {
		&::after {
			mask: url('./lib/icons/check-icon.svg') no-repeat center;
		}

		&::before {
			opacity: 1;
		}
	}
}

[class*='language-']:hover {
	span.lang {
		opacity: 0;
	}

	button.copy {
		opacity: 1;
	}
}
